@{
    ViewData["Title"] = "Keyboards";
}
@model IEnumerable<DTOS.KeyboardDTOs.KeyboardDto>


@await Html.PartialAsync("_navmenu")
<section>
    <div class="container theme-showcase main-container" role="main">
        <div class="row">
            <div class="col-lg-15 col-md-15 col-sm-20 col-xs-60">
                <div id="column-left">
                    <div class="col-filter">
                        <form href="?" id="catalog-filter-form">
                            <div class="col-filter-div-header header-filter">
                                <a class="header-filterr" id="collapseExamplee" role="button">Фильтр</a>
                            </div>
                            <div class="" id="">
                                <div class="filter-hidden">
                                    <div class="col-filter-div">
                                        <div class="header-sub-filter" style="padding: 0">Бренды</div>
                                        <div class="checkbox checkbox-success">
                                            <input class="styled brands-checkbox"
                                                   id="brands-checkbox-0" type="checkbox"
                                                   value="brand-2e-gaming">
                                            <label for="brands-checkbox-0">2E Gaming</label>
                                        </div>
                                        <div class="checkbox checkbox-success">
                                            <input class="styled brands-checkbox"
                                                   id="brands-checkbox-1" type="checkbox"
                                                   value="akko">
                                            <label for="brands-checkbox-1">AKKO</label>
                                        </div>
                                        <div class="checkbox checkbox-success">
                                            <input class="styled brands-checkbox"
                                                   id="brands-checkbox-2" type="checkbox"
                                                   value="brand-corsair">
                                            <label for="brands-checkbox-2">Corsair</label>
                                        </div>
                                        <div class="checkbox checkbox-success">
                                            <input class="styled brands-checkbox"
                                                   id="brands-checkbox-3" type="checkbox"
                                                   value="dark-project">
                                            <label for="brands-checkbox-3">Dark Project</label>
                                        </div>
                                        <div class="checkbox checkbox-success">
                                            <input class="styled brands-checkbox"
                                                   id="brands-checkbox-4" type="checkbox"
                                                   value="brand-ducky">
                                            <label for="brands-checkbox-4">Ducky</label>
                                        </div>
                                        <div class="checkbox checkbox-success">
                                            <input class="styled brands-checkbox"
                                                   id="brands-checkbox-5" type="checkbox"
                                                   value="brand-glorious">
                                            <label for="brands-checkbox-5">Glorious</label>
                                        </div>
                                        <div class="checkbox checkbox-success">
                                            <input class="styled brands-checkbox"
                                                   id="brands-checkbox-6" type="checkbox"
                                                   value="brand-hyperx">
                                            <label for="brands-checkbox-6">HyperX</label>
                                        </div>
                                        <div class="checkbox checkbox-success">
                                            <input class="styled brands-checkbox"
                                                   id="brands-checkbox-7" type="checkbox"
                                                   value="brand-keychron">
                                            <label for="brands-checkbox-7">Keychron</label>
                                        </div>
                                        <div class="checkbox checkbox-success">
                                            <input class="styled brands-checkbox"
                                                   id="brands-checkbox-8" type="checkbox"
                                                   value="kwumsy">
                                            <label for="brands-checkbox-8">Kwumsy</label>
                                        </div>
                                        <div class="checkbox checkbox-success">
                                            <input class="styled brands-checkbox"
                                                   id="brands-checkbox-9" type="checkbox"
                                                   value="kzzi">
                                            <label for="brands-checkbox-9">Kzzi</label>
                                        </div>
                                        <div class="checkbox checkbox-success">
                                            <input class="styled brands-checkbox"
                                                   id="brands-checkbox-10" type="checkbox"
                                                   value="brand-logitech">
                                            <label for="brands-checkbox-10">Logitech</label>
                                        </div>
                                        <div class="checkbox checkbox-success">
                                            <input class="styled brands-checkbox"
                                                   id="brands-checkbox-11" type="checkbox"
                                                   value="ofiyaa">
                                            <label for="brands-checkbox-11">Ofiyaa</label>
                                        </div>
                                        <div class="checkbox checkbox-success">
                                            <input class="styled brands-checkbox"
                                                   id="brands-checkbox-12" type="checkbox"
                                                   value="brand-rapoo">
                                            <label for="brands-checkbox-12">Rapoo</label>
                                        </div>
                                        <div class="checkbox checkbox-success">
                                            <input class="styled brands-checkbox"
                                                   id="brands-checkbox-13" type="checkbox"
                                                   value="brand-razer">
                                            <label for="brands-checkbox-13">Razer</label>
                                        </div>
                                        <div class="checkbox checkbox-success">
                                            <input class="styled brands-checkbox"
                                                   id="brands-checkbox-14" type="checkbox"
                                                   value="brand-redragon">
                                            <label for="brands-checkbox-14">Redragon</label>
                                        </div>
                                        <div class="checkbox checkbox-success">
                                            <input class="styled brands-checkbox"
                                                   id="brands-checkbox-15" type="checkbox"
                                                   value="red-square">
                                            <label for="brands-checkbox-15">Red Square</label>
                                        </div>
                                        <div class="checkbox checkbox-success">
                                            <input class="styled brands-checkbox"
                                                   id="brands-checkbox-16" type="checkbox"
                                                   value="royal-kludge">
                                            <label for="brands-checkbox-16">Royal Kludge</label>
                                        </div>
                                        <div class="checkbox checkbox-success">
                                            <input class="styled brands-checkbox"
                                                   id="brands-checkbox-17" type="checkbox"
                                                   value="brand-steelseries">
                                            <label for="brands-checkbox-17">SteelSeries</label>
                                        </div>
                                        <div class="checkbox checkbox-success">
                                            <input class="styled brands-checkbox"
                                                   id="brands-checkbox-18" type="checkbox"
                                                   value="brand-trust">
                                            <label for="brands-checkbox-18">Trust</label>
                                        </div>
                                        <div class="checkbox checkbox-success">
                                            <input class="styled brands-checkbox"
                                                   id="brands-checkbox-19" type="checkbox"
                                                   value="brand-upgrade">
                                            <label for="brands-checkbox-19">UPGrade</label>
                                        </div>
                                        <div class="checkbox checkbox-success">
                                            <input class="styled brands-checkbox"
                                                   id="brands-checkbox-20" type="checkbox"
                                                   value="brand-varmilo">
                                            <label for="brands-checkbox-20">Varmilo</label>
                                        </div>
                                        <div class="checkbox checkbox-success">
                                            <input class="styled brands-checkbox"
                                                   id="brands-checkbox-21" type="checkbox"
                                                   value="brand-xtrfy">
                                            <label for="brands-checkbox-21">Xtrfy</label>
                                        </div>
                                        <input type="hidden" name="brands" id="brands-hidden-input">
                                    </div>

                                    <div id="slider-non-linear-step" style="
    width: 80%;
    margin-left: 30px;
"></div>
                                    <div id="slider-non-linear-step-value"></div>

                                    <input type="hidden" id="min" name="price-min" />
                                    <input type="hidden" id="max" name="price-max" />
                                    <script>
                                        var slider = document.getElementById('slider-non-linear-step');

                                        noUiSlider.create(slider, {
                                            start: [parseInt('128000') - 100000,
                                            parseInt('5738000') + 100000],
                                            connect: true,
                                            range: {
                                                'min': parseInt('128000') - 1,
                                                'max': parseInt('5738000') + 100000
                                            }
                                        });
                                        var nonLinearStepSliderValueElement = document.getElementById('slider-non-linear-step-value');

                                        slider.noUiSlider.on('update', function (values) {
                                            // console.log(values);
                                            values[0] = number_format(Math.round(values[0]), 0, '.', ' ')
                                            values[1] = number_format(Math.round(values[1]), 0, '.', ' ')
                                            // console.log(values)''

                                            nonLinearStepSliderValueElement.innerHTML = values.join(' - ');
                                            let u = nonLinearStepSliderValueElement.innerHTML;
                                            u = u.split('-');
                                            $('#min').val(u[0].replace(/\s/g, ''))
                                            $('#max').val(u[1].replace(/\s/g, ''))
                                        });
                                        function number_format(number, decimals, dec_point, thousands_point) {

                                            if (number == null || !isFinite(number)) {
                                                throw new TypeError("number is not valid");
                                            }

                                            if (!decimals) {
                                                var len = number.toString().split('.').length;
                                                decimals = len > 1 ? len : 0;
                                            }

                                            if (!dec_point) {
                                                dec_point = '.';
                                            }

                                            if (!thousands_point) {
                                                thousands_point = ',';
                                            }

                                            number = parseFloat(number).toFixed(decimals);

                                            number = number.replace(".", dec_point);

                                            var splitNum = number.split(dec_point);
                                            splitNum[0] = splitNum[0].replace(/\B(?=(\d{3})+(?!\d))/g, thousands_point);
                                            number = splitNum.join(dec_point);

                                            return number;
                                        }
                                    </script>

                                    <div id="catalog-characteristics">
                                        <div class="header-sub-filter">Тип переключателей</div>
                                        <div class="col-filter-div">
                                            <select class="characteristics-0"
                                                    id="characteristics-0">
                                                <option value="">Выберите из списка</option>
                                                <option value="Akko CS Jelly Pink">Akko CS Jelly Pink</option>
                                                <option value="Brown Switch">Brown Switch</option>
                                                <option value="Cherry MX Blue">Cherry MX Blue</option>
                                                <option value="Cherry MX Brown">Cherry MX Brown</option>
                                                <option value="Cherry MX Red">Cherry MX Red</option>
                                                <option value="Cherry MX Silent Red">Cherry MX Silent Red</option>
                                                <option value="G3MS Sapphire Switch">G3MS Sapphire Switch</option>
                                                <option value="Gateron Blue">Gateron Blue</option>
                                                <option value="Gateron Blue Switch">Gateron Blue Switch</option>
                                                <option value="Gateron Brown">Gateron Brown</option>
                                                <option value="Gateron Cap Teal">Gateron Cap Teal</option>
                                                <option value="Gateron G Pro 2.0 Brown">Gateron G Pro 2.0 Brown</option>
                                                <option value="Gateron G Pro 2.0 Red">Gateron G Pro 2.0 Red</option>
                                                <option value="Gateron G Pro Blue">Gateron G Pro Blue</option>
                                                <option value="Gateron Optical Red">Gateron Optical Red</option>
                                                <option value="Gateron Red">Gateron Red</option>
                                                <option value="Gateron Yellow">Gateron Yellow</option>
                                                <option value="Gateton G Pro Brown">Gateton G Pro Brown</option>
                                                <option value="Gateton G Pro Red">Gateton G Pro Red</option>
                                                <option value="GL Clicky">GL Clicky</option>
                                                <option value="HyperX Aqua">HyperX Aqua</option>
                                                <option value="HyperX Blue">HyperX Blue</option>
                                                <option value="HyperX Red">HyperX Red</option>
                                                <option value="K2 Gateron Switch Features">K2 Gateron Switch Features</option>
                                                <option value="Kailh Red RGB">Kailh Red RGB</option>
                                                <option value="Keychron Gateron Brown Switch">Keychron Gateron Brown Switch</option>
                                                <option value="Keychron Gateron G Pro Brown">Keychron Gateron G Pro Brown</option>
                                                <option value="Keychron Gateron G Pro Red">Keychron Gateron G Pro Red</option>
                                                <option value="Keychron Hot-Swap Gateron G Pro Brown">Keychron Hot-Swap Gateron G Pro Brown</option>
                                                <option value="Keychron Hot-Swap Gateron G Pro Red">Keychron Hot-Swap Gateron G Pro Red</option>
                                                <option value="Keychron K Pro Brown">Keychron K Pro Brown</option>
                                                <option value="Lemon Switch">Lemon Switch</option>
                                                <option value="Linear Switch Red">Linear Switch Red</option>
                                                <option value="Low Profile Gateron Mechanical Brown">Low Profile Gateron Mechanical Brown</option>
                                                <option value="Low Profile Gateron Mechanical Red">Low Profile Gateron Mechanical Red</option>
                                                <option value="Moment Linear switch">Moment Linear switch</option>
                                                <option value="Moment Linear Switch">Moment Linear Switch</option>
                                                <option value="OmniPoint 2.0">OmniPoint 2.0</option>
                                                <option value="OmniPoint Switch">OmniPoint Switch</option>
                                                <option value="Optical responsive switch">Optical responsive switch</option>
                                                <option value="Outemu Blue">Outemu Blue</option>
                                                <option value="Outemu Brown">Outemu Brown</option>
                                                <option value="Outemu RED">Outemu RED</option>
                                                <option value="Outemu TEA">Outemu TEA</option>
                                                <option value="QX2 Red Switch">QX2 Red Switch</option>
                                                <option value="Rapoo Blue">Rapoo Blue</option>
                                                <option value="Rapoo Linear Silver">Rapoo Linear Silver</option>
                                                <option value="Razer Optical Purple Switch">Razer Optical Purple Switch</option>
                                                <option value="Razer Optical Red Switch">Razer Optical Red Switch</option>
                                                <option value="Red Switch">Red Switch</option>
                                                <option value="SkyCyan Switch">SkyCyan Switch</option>
                                                <option value="SteelSeries Hybrid Mechanical RGB Switch">SteelSeries Hybrid Mechanical RGB Switch</option>
                                                <option value="SteelSeries Linear OptiPoint Optical">SteelSeries Linear OptiPoint Optical</option>
                                                <option value="SteelSeries QX2 Mechanical Blue RGB Switch">SteelSeries QX2 Mechanical Blue RGB Switch</option>
                                                <option value="SteelSeries QX2 Mechanical Brown RGB Switch">SteelSeries QX2 Mechanical Brown RGB Switch</option>
                                                <option value="SteelSeries QX2 Mechanical Red RGB Switch">SteelSeries QX2 Mechanical Red RGB Switch</option>
                                                <option value="Switch Yellow Axis">Switch Yellow Axis</option>
                                                <option value="Varmilo EC Daisy V2">Varmilo EC Daisy V2</option>
                                                <option value="Varmilo EC Ivy V2">Varmilo EC Ivy V2</option>
                                                <option value="Varmilo EC Rose V2">Varmilo EC Rose V2</option>
                                                <option value="Varmilo EC Sakura V2">Varmilo EC Sakura V2</option>
                                            </select>
                                        </div>
                                        <input type="hidden"
                                               name="characteristics[16]"
                                               id="characteristics-0-hidden-input">
                                        <div class="header-sub-filter">Тип клавиатуры</div>
                                        <div class="col-filter-div">
                                            <select class="characteristics-1"
                                                    id="characteristics-1">
                                                <option value="">Выберите из списка</option>
                                                <option value="Мембранная">Мембранная</option>
                                                <option value="Механическая">Механическая</option>
                                                <option value="Оптическая">Оптическая</option>
                                            </select>
                                        </div>
                                        <input type="hidden"
                                               name="characteristics[14]"
                                               id="characteristics-1-hidden-input">
                                        <div class="header-sub-filter">Подсветка</div>
                                        <div class="col-filter-div">
                                            <select class="characteristics-2"
                                                    id="characteristics-2">
                                                <option value="">Выберите из списка</option>
                                                <option value="16.8 млн. цветов">16.8 млн. цветов</option>
                                                <option value="16 млн. цветов">16 млн. цветов</option>
                                                <option value="Per Key RGB Illumination">Per Key RGB Illumination</option>
                                                <option value="RGB">RGB</option>
                                                <option value="White-LED">White-LED</option>
                                                <option value="Белая">Белая</option>
                                                <option value="Голубая">Голубая</option>
                                                <option value="Есть">Есть</option>
                                                <option value="Красная">Красная</option>
                                                <option value="Нет">Нет</option>
                                            </select>
                                        </div>
                                        <input type="hidden"
                                               name="characteristics[50]"
                                               id="characteristics-2-hidden-input">
                                    </div>
                                </div>
                            </div>
                            <input type="hidden" id="order">
                            <input type="hidden" id="counting">
                            <button id="filter-clear" class="btn btn-default btn-filter">Сбросить фильтр</button>
                            <input type="submit" value="Применить фильтр" id="catalog-filter-submit" class="btn btn-default btn-filter" />
                        </form>
                    </div>
                    
                </div>
            </div>
            <div class="col-lg-45 col-md-45 col-sm-40 col-xs-60 col-content" id="content">
                <div class="row">
                    <div class="col-lg-60 col-breadcrumb" itemscope itemtype="https://schema.org/BreadcrumbList">
                        <ol class="breadcrumb mt-1">
                            <li class="breadcrumb-item"><a href="/">Home</a></li>
                            <li class="breadcrumb-item active">Клавиатуры</li>
                        </ol>
                    </div>
                    <div class="col-lg-60 col-xs-60">
                        <h1 class="nomargin">Клавиатуры</h1>
                    </div>
                    <div class="col-lg-60 col-xs-60">
                        <img class="img-responsive" src="https://upg.uz/storage/files/categories/6/thumbs/qkMTnkR7BTuMCrDi5aAnOk4D7GQyDLy94xm0J1MI.png" alt="Манипуляторы и аксессуары" />
                    </div>
                    <div class="col-lg-60 col-xs-60">
                        <div class="col-center-filter">
                            <div class="row">
                                <form id="category-order-form">
                                    <div class="col-lg-25 col-md-23 col-sm-60 col-xs-60 col-center-filter-item">
                                        <label for="order">Сортировка</label>
                                        <select onchange="categoryFormSubmit()" data-width="auto" name="order"
                                                id="category-order">
                                            <option value="" selected>
                                                По
                                                умолчанию
                                            </option>
                                            <option value="ASC">
                                                Наименование (А -&gt; Я)
                                            </option>
                                            <option value="DESC">
                                                Наименование (Я -&gt; А)
                                            </option>
                                            <option value="ASC_price">
                                                Цена (по возрастанию)
                                            </option>
                                            <option value="DESC_price">
                                                Цена (по убыванию)
                                            </option>
                                            <option value="DESC_rating">
                                                Рейтинг (по убыванию)
                                            </option>
                                            <option value="ASC_rating">
                                                Рейтинг (по возрастанию)
                                            </option>
                                        </select>
                                    </div>
                                    <div class="col-lg-18 col-md-18 col-sm-60 col-xs-60 col-center-filter-item">
                                        <div class="category-products-count-filter">
                                            <label>Товаров на странице</label>
                                            <select onchange="categoryFormSubmit()" name="counting"
                                                    data-width="auto" id="category-counting">
                                                <option value="20">
                                                    20
                                                </option>
                                                <option value="30">
                                                    30
                                                </option>
                                                <option value="40" selected>
                                                    40
                                                </option>
                                                <option value="50">
                                                    50
                                                </option>
                                                <option value="60">
                                                    60
                                                </option>
                                            </select>
                                        </div>
                                    </div>
                                </form>
                            </div>
                        </div>
                        <div class="row-viewed col-catalog-grid product-grid">
                            @foreach (var i in Model)
                            {
                                <div class="col-lg-12 col-md-15 col-sm-20 col-xs-30 item-product">
                                    <div class="item-product-inner">
                                        <a asp-action="Sborka" asp-controller="Product" asp-route-id="@i.Id" class="item-link">

                                            <img class="item-product-img center-block"
                                                 src="@($"https://localhost:7010/{i.ImageUrls.FirstOrDefault()}")"
                                                 alt="@($"https://localhost:7010/{i.ImageUrls.FirstOrDefault()}")">

                                            @i.Name

                                        </a>
                                        <div class="product-mini-rating">
                                            <div class="mp-small_rate" mp-prod_id="">
                                                <div class="mp-rating-value-wrap">
                                                    <div class="mp-rating-value">
                                                        <div style="width:100%"></div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>

                                        <span class="item-price price-old">@i.Price сум</span>

                                        <span class="item-price price-new">@i.Price сум</span>

                                        <div class="item-buttons center-block">
                                            <a class="item-buy-btn cart" role="button" onclick="addToCart('1');"
                                               id="cartActive1" data-id="c1" data-productname="@i.Name"
                                               data-productslug="hyperx-pulsefire-haste">Купить</a>
                                            <a class="item-compare-btn libra" role="button"
                                               onclick="addToCompare(1, 1, '@i.Name.ToLower();', '@i.Name')"
                                               data-id="l1"></a>
                                        </div>
                                    </div>
                                    <script>
                                        localStorage.getItem('compare_product').split(',').forEach(el => {
                                            if (el === "1") {
                                                $(`[data-id="l${el}"]`).addClass('selected_libra');
                                            }
                                        })
                                        if (JSON.parse(localStorage.getItem('product_id')) != null) {
                                            JSON.parse(localStorage.getItem('product_id')).forEach(el => {
                                                if (el.product_id === "1") {
                                                    $(`[data-id="c${el.product_id}"]`).addClass('selected_cart');
                                                }
                                            })
                                        }

                                    </script>
                                </div>
                                <script>
                                    function showModal(productId, productSlug, productName) {
                                        $(`[data-id="l${productId}"]`).addClass('active');
                                        const elements = localStorage.getItem('compare_product');
                                        const categoryElements = JSON.parse(elements);
                                        const elementKeys = Object.keys(categoryElements);
                                        const parameter = `?categories=${elementKeys}&data=${categoryElements[elementKeys[0]]}`;
                                        $('#modalNew').show();
                                        $('#informModalCartCompare').html(`<div>Товар <a href="/products/${productId}">${productName}</a> добавлен в <a id="compareBtn" href="https://upg.uz/en/compare${parameter}#">список сравнения товаров</a>!</div>`);
                                    }

                                    function getProductLength() {
                                        let elements = localStorage.getItem('compare_product');
                                        let categoryElements = JSON.parse(elements);
                                        let compareProducts = 0;
                                        if (elements) {
                                            const elementKeys = Object.keys(categoryElements);
                                            for (const elementKey in elementKeys) {
                                                const element = categoryElements[elementKeys[elementKey]].split(',');
                                                element[element.length - 1] === '' ? element.splice(-1, 1) : element;
                                                compareProducts += element.length;
                                            }
                                        }

                                        return compareProducts;
                                    }

                                    function addToCompare(productId, categoryId, productSlug, productName) {
                                        const compareProducts = localStorage.getItem('compare_product');
                                        if (compareProducts) {
                                            let compare_products = '';
                                            let exist = false;
                                            let cart_product_check = [];
                                            let productIds = JSON.parse(localStorage.getItem('compare_product'));

                                            if (productIds[categoryId]) {
                                                console.log('category exists');
                                                console.log(productIds[categoryId]);
                                                cart_product_check = productIds[categoryId].split(',');

                                                for (let i = 0; i <= cart_product_check.length; i++) {
                                                    if (parseInt(cart_product_check[i]) === productId) {
                                                        console.log('exists')
                                                        exist = true;
                                                    }
                                                }
                                            }

                                            if (!exist) {
                                                console.log('workng not exist')
                                                if (cart_product_check.length < 1) {
                                                    productIds[categoryId] = `${productId},`;
                                                    localStorage.setItem('compare_product', JSON.stringify(productIds));
                                                    let containerCounter = $('#top-compare-total');
                                                    containerCounter.text(getProductLength());
                                                    showModal(productId, productSlug, productName);
                                                    $(`#l${productId}`).addClass('active');

                                                } else if (cart_product_check.length <= 3 && cart_product_check.length >= 1) {
                                                    $.ajax({
                                                        url: '/check-compare/' + productId + '/' + cart_product_check[0],
                                                        method: 'GET',
                                                        success: function (data) {
                                                            if (data.message === 'success') {
                                                                compare_products = productIds[categoryId];
                                                                compare_products += `${productId},`;
                                                                productIds[categoryId] = compare_products;
                                                                localStorage.setItem('compare_product', JSON.stringify(productIds));
                                                                let containerCounter = $('#top-compare-total');
                                                                containerCounter.text(getProductLength());
                                                                showModal(productId, productSlug, productName);
                                                            } else {
                                                                alert('For comparing products categories must be the same')
                                                                $(`[data-id="l${productId}"]`).removeClass('selected_libra')
                                                            }
                                                        }, error: function (data) {
                                                            // console.log(data);
                                                        }
                                                    });
                                                } else {
                                                    alert('You can compare only 3 products')
                                                    $(`[data-id="l${productId}"]`).removeClass('selected_libra')
                                                }

                                            } else {
                                                showModal(productId, productSlug, productName);
                                            }
                                        } else {
                                            localStorage.setItem('compare_product', JSON.stringify({ [categoryId]: `${productId},` }));
                                            showModal(productId, productSlug, productName);
                                        }
                                        calculateCompareProductsCount();
                                    }

                                    function calculateCompareProductsCount() {
                                        let compareProducts = 0;
                                        const data = localStorage.getItem('compare_product');
                                        const categoryElements = JSON.parse(data);
                                        elementKeys = Object.keys(categoryElements);
                                        for (const elementKey in elementKeys) {
                                            const element = categoryElements[elementKeys[elementKey]].split(',');
                                            element[element.length - 1] === '' ? element.splice(-1, 1) : element;
                                            compareProducts += element.length;
                                        }
                                        $('#top-compare-total').html(compareProducts);
                                    }
                                </script>
                            }

                        </div>
                        @await Html.PartialAsync("_navbrend")
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>
